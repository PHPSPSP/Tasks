'use strict';var oxyThemeData=oxyThemeData ||{navbarHeight : 90, navbarScrolled : 70, navbarScrolledPoint : 200, navbarScrolledSwatches:{up: 'swatch-white', down: 'swatch-white'}, scrollFinishedMessage : 'No more items to load.', hoverMenu :{hoverActive : false, hoverDelay : 1, hoverFadeDelay : 200}};jQuery(document).ready(function( $ ){if(!(/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)){skrollr.init({forceHeight: false});}else{$('body:not([class*="oxy-agent-"])').addClass('oxy-agent-'); if((/iPhone/i).test(navigator.userAgent || navigator.vendor || window.opera)){$('body').not('.oxy-agent-iphone').addClass('oxy-agent-iphone');}if((/iPad/i).test(navigator.userAgent || navigator.vendor || window.opera)){$('body').not('.oxy-agent-ipad').addClass('oxy-agent-ipad');}}function flexInit( element ){var slider=$(element), sliderShow=slider.attr('data-flex-slideshow')==='false' ? false : true, sliderAnimation=!slider.attr('data-flex-animation') ? 'slide' : slider.attr('data-flex-animation'), sliderSpeed=!slider.attr('data-flex-speed') ? 7000 : slider.attr('data-flex-speed'), direction=!slider.attr('data-flex-sliderdirection') ? 'horizontal' : slider.attr('data-flex-sliderdirection'), sliderDuration=!slider.attr('data-flex-duration') ? 600 : slider.attr('data-flex-duration'), sliderDirections=slider.attr('data-flex-directions')==='hide' ? false : true, sliderControls=slider.attr('data-flex-controls')==='thumbnails' ? 'thumbnails' : slider.attr('data-flex-controls')==='hide' ? false : true, sliderControlsPosition=slider.attr('data-flex-controlsposition')==='inside' ? 'flex-controls-inside' : 'flex-controls-outside', sliderControlsAlign=!slider.attr('data-flex-controlsalign') ? 'flex-controls-center' : 'flex-controls-' + slider.attr('data-flex-controlsalign'), sliderControlsVericalAlign=!slider.attr('data-flex-controlsvertical') ? '' : 'flex-controls-' + slider.attr('data-flex-controlsvertical'), sliderItemWidth=!slider.attr('data-flex-itemwidth') ? 0 : parseInt(slider.attr('data-flex-itemwidth'), 10), sliderItemMax=!slider.attr('data-flex-itemmax') ? 0 : parseInt(slider.attr('data-flex-itemmax'), 0), sliderItemMin=!slider.attr('data-flex-itemmin') ? 0 : parseInt(slider.attr('data-flex-itemmin'), 0), sliderCaptionsHorizontal=slider.attr('data-flex-captionhorizontal')==='alternate' ? 'flex-caption-alternate' : 'flex-caption-' + slider.attr('data-flex-captionhorizontal'); slider.addClass(sliderControlsPosition).addClass(sliderControlsAlign).addClass(sliderControlsVericalAlign).addClass(sliderCaptionsHorizontal); slider.flexslider({slideshow: sliderShow, animation: sliderAnimation, direction: direction, slideshowSpeed: parseInt(sliderSpeed), animationSpeed: parseInt(sliderDuration), itemWidth: sliderItemWidth, minItems: sliderItemMin, maxItems: sliderItemMax, controlNav: sliderControls, directionNav: sliderDirections, prevText: '', nextText: '', smoothHeight: true, useCSS : false});}$( '.flexslider[id]' ).each(function(){var that=this; $(this).imagesLoaded().done( function( instance ){flexInit(that);});}); function isotopeInit(){$('.masonry').each( function( index, element ){var $container=$(element); var $items=$container.find( '.masonry-item' ); var padding=$container.attr( 'data-padding' ); var isFullWidth=$container.parents( '.container-fullwidth' ).length > 0; var containerPadding=-padding / 2; $container.css({margin: '0 ' + containerPadding + 'px'}); $container.imagesLoaded().always( function( loadedContainer ){setTimeout( function(){var columns=3; var screenWidth=$(window).width(); var wideColumns=2; if( screenWidth < 768 ){columns=$container.attr( 'data-col-xs' ); wideColumns=1;}else if( screenWidth < 992 ){columns=$container.attr( 'data-col-sm' ); wideColumns=1;}else if( screenWidth < 1200 ){columns=$container.attr( 'data-col-md' ); wideColumns=2 ;}else if( screenWidth > 1200 ){columns=$container.attr( 'data-col-lg' ); wideColumns=2 ;}var itemWidth; if ( $container.hasClass( 'use-masonry' ) ){$items.each(function(){itemWidth=Math.floor( $container.width() / columns ); var item=$(this); if( item.hasClass( 'masonry-wide' ) ){item.css( 'width', itemWidth * wideColumns );}else{item.css( 'width', itemWidth );}});}else{itemWidth=Math.floor( $container.width() / columns ); $items.css( 'width', itemWidth );}$items.find('.figure,.post-masonry-inner').css( 'padding', padding / 2 + 'px' ); $container.isotope({itemSelector: '.masonry-item', getSortData :{default: function ( $elem ){return parseInt( $elem.attr( 'data-menu-order' ) );}, title: function ( $elem ){return $elem.attr( 'data-title' );}, date: function ( $elem ){return Date.parse( $elem.attr( 'data-date' ) );}, comments: function( $elem ){return parseInt( $elem.attr( 'data-comments') );}}, sortBy: 'default', layoutMode: $container.attr( 'data-layout' ), resizable: false, masonry:{columnWidth: itemWidth, gutter: padding}}, function(){$.waypoints('refresh'); $container.removeClass( 'no-transition' ); onScrollInit( $items.find( '.portfolio-os-animation' ), $container ); onScrollInit( $items.find( '.blog-os-animation' ), $container );});},200);});});}$(window).smartresize(function(){isotopeInit();}); isotopeInit(); $('.section[data-color-set]').each( function(){var $section=$(this); var duration=$section.attr('data-color-duration'); var colors=$section.attr('data-color-set'); if( colors.length > 0 ){colors=colors.split(','); setTimeout(function(){oxyAnimateSectionBackgrounds( $section, colors, duration );}, duration);}}); function oxyAnimateSectionBackgrounds( $section, colors, duration ){var speed=$section.attr('data-color-speed'); var color=colors.shift(); colors.push(color); $section.animate({backgroundColor: color},{duration: parseInt(speed), complete: function(){setTimeout(function(){oxyAnimateSectionBackgrounds( $section, colors, duration );}, duration);}});}$('.portfolio-filter').click( function(){var $button=$(this); var filter=$button.attr( 'data-filter' ); var $filtersRow=$button.parents('div.row'); $filtersRow.find( '.portfolio-title span' ).text( $button.text() ); var $portfolio=$filtersRow.next(); $portfolio.isotope({filter: filter});}); $('.portfolio-order').click( function(){var $button=$(this); var order=$button.attr( 'data-value' ); var $portfolio=$button.parents( 'div.row' ).next(); $portfolio.isotope({sortAscending: order==='true'});}); $('.portfolio-sort').click( function(){var $button=$(this); var sort=$button.attr( 'data-sort' ); var $portfolio=$button.parents('div.row').next(); $portfolio.isotope({sortBy: sort});}); $('[class*="oxy-agent-"] .section-fullheight').removeClass('section-fullheight').css('min-height', $(window).height()).find('.container, .container-fullwidth').css('min-height', $(window).height()).find('.row, [class*="col-md"]').css('position', 'static'); $('html.ie9').find('input, textarea').placeholder(); $( '.video-wrapper' ).fitVids(); $('audio').mediaelementplayer({pauseOtherPlayers: false, enableAutosize: false, setDimensions:false,}); $('.section-background-video').mediaelementplayer({pauseOtherPlayers: false, enableAutosize: false, setDimensions:false, success: function(mediaElement, node, player){$(mediaElement).parent().css('background-image','url('' + $(mediaElement).attr('poster') + '')'); var $section=$(mediaElement).closest('section'); mediaElement.addEventListener('loadeddata', function (){var containerHeight=$section.outerHeight(); var containerWidth=$section.outerWidth(); var playerHeight=player.media.videoHeight; var playerWidth=player.media.videoWidth; var aspectRatio=( playerHeight / playerWidth * 100 ) + '%'; var scaleFactor=containerWidth /playerWidth; var playerActualHeight=playerHeight * scaleFactor; $(mediaElement).parent().css('padding-bottom', aspectRatio); if( playerActualHeight >=containerHeight ){$(mediaElement).css('top', ( containerHeight - (playerHeight * scaleFactor) )/2 );}else{$(mediaElement).css('background-image', '');}$(mediaElement).show(); $(window).smartresize(function(){containerHeight=$section.outerHeight(); containerWidth=$section.outerWidth(); scaleFactor=containerWidth /playerWidth; playerActualHeight=playerHeight * scaleFactor; if( playerActualHeight >=containerHeight ){$(mediaElement).css('top', ( containerHeight - (playerHeight * scaleFactor) )/2 );}else{$(mediaElement).css('background-image', '');}});}); if( !$('body:not([class*="oxy-agent-"])').length ){$(mediaElement).show();}if( $('body').hasClass('oxy-agent-ipad') ){$section.on('click', function (e){if(mediaElement.paused){mediaElement.play();}else{mediaElement.pause();}});}}}); $('ul.features-connected').each(function(){var element=$(this); var div=$('<div class="features-connected-line"></div>').css('border-color' , element.attr('data-linecolor')); element.find('li').append( div );}); $('.countdown').each(function(){var countdown=$(this); var date=countdown.attr('data-date' ); countdown.countdown( date ).on('update.countdown', function(event){$(this).find('.counter-days').html( event.offset.totalDays ); $(this).find('.counter-hours').html( event.offset.hours ); $(this).find('.counter-minutes').html( event.offset.minutes ); $(this).find('.counter-seconds').html( event.offset.seconds );});}); $('.counter').each(function(){var $counter=$(this); var $odometer=$counter.find('.odometer-counter'); if($odometer.length > 0 ){var od=new Odometer({el: $odometer[0], value: $odometer.text(), format: $counter.attr('data-format')}); $counter.waypoint(function(){window.setTimeout(function(){$odometer.html( $counter.attr( 'data-count' ) );}, 500);},{triggerOnce: true, offset: 'bottom-in-view'});}}); $('body.woo-cart-popup').on('click', '.mini-cart-overview a', function(){var $cartLink=$(this); $('.mini-cart-underlay').toggleClass('cart-open'); $cartLink.attr( 'href' , '#mini-cart-container' ); $('#mini-cart-container').toggleClass('active'); $('body').toggleClass('mini-cart-opened');}); $('select').wrap('<div class="select-wrap">'); var menu=$('#masthead'); var menuInitOffset=$('#masthead').position(); menuInitOffset=menuInitOffset===undefined ? 0 : menuInitOffset.top; var menuItems=$('.navbar').find('a'); var scrollMenuItems=menuItems.map(function(){var item=this.hash; if (item && $(item).length ){return item;}}); var bulletNav=$('article .bullet-nav'); if( bulletNav.length || scrollMenuItems.length ){var sections=[]; $('article').find('section').each( function(){if( this.id ){sections.push(this);}}); if( sections.length ){menuItems.parent().removeClass('active current-menu-item'); $.each( sections, function( index, section){var $section=$(section); if( bulletNav.length ){var list=bulletNav.find('ul'); var tooltipAtts=''; if( 'on'===bulletNav.attr( 'data-show-tooltips' ) ){tooltipAtts='data-toggle="tooltip" data-placement="left" title="' + $section.attr('data-label') + '"';}list.append('<li><a href="#' + section.id + '" ' + tooltipAtts + '>' + section.id + '</a>');}$section.waypoint({offset: function(){return sectionWaypointOffset( $section, 'up', menu );}, handler: function(direction){if( 'up'===direction ){sectionWaypointHandler( scrollMenuItems, menuItems, bulletNav, section );}}}); $section.waypoint({offset: function(){return sectionWaypointOffset( $section, 'down', menu );}, handler: function(direction){if( 'down'===direction ){sectionWaypointHandler( scrollMenuItems, menuItems, bulletNav, section );}}});}); if( bulletNav.length ){bulletNav.show(); bulletNav.css('top', ( $(window).height() - bulletNav.height() )/ 2 );}}}function sectionWaypointOffset( $section, direction, menu ){var offset=direction==='up' ? -($section.height() / 2) : 0; var menuHeight=parseInt(oxyThemeData.navbarHeight); if( menu.length && menu.hasClass('navbar-sticky') && menu.hasClass('navbar-scrolled') ){menuHeight=parseInt(oxyThemeData.navbarScrolled);}var sectionOffset=$section.offset().top; var menuOffset=menu.length? menu.position().top : 0; if( menu.length && menu.hasClass('navbar-sticky') && ( (menuOffset + menuHeight) <=sectionOffset ) ){offset +=menuHeight;}return offset;}function sectionWaypointHandler( scrollMenuItems, menuItems, bulletNav, section ){if( scrollMenuItems.length ){menuItems.parent().removeClass('active current-menu-item').end().filter('[href$="' + section.id + '"]').parent().addClass('active current-menu-item');}if( bulletNav.length ){bulletNav.find('a').removeClass('active').filter('[href$="' + section.id + '"]').addClass('active');}}$('.navbar a, a.scroll-to-id, .bullet-nav a').on('click', function(e){var target=this.hash; var offset=0; if(target && $(target).length){e.preventDefault(); var targetOffset=$(target).offset().top; var menuHeight=parseInt(oxyThemeData.navbarHeight); if(menu !==undefined && menu.hasClass('navbar-sticky') && ( menuInitOffset + menuHeight <=targetOffset)){var scrollPoint=parseInt( oxyThemeData.navbarScrolledPoint ); var navHeightBeforeScrollPoint=parseInt( oxyThemeData.navbarHeight ); var navHeightAfterScrollPoint=parseInt( oxyThemeData.navbarScrolled ); offset=scrollPoint <=targetOffset ? navHeightAfterScrollPoint : navHeightBeforeScrollPoint;}$.scrollTo( $(target), 800,{axis: 'y', offset: -offset + 1});}}); $('#wp-calendar').addClass( 'table' ); $('.top-bar, #masthead').find('.widget_search form').wrap('<div class="top-search">'); $('.top-search').append('<i class="fa fa-search search-trigger navbar-text"></i><svg class="search-close" preserveAspectRatio="none" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M25 25 L75 75" stroke-width="2"></path><path d="M25 75 L75 25" stroke-width="2"></path></svg>'); $('body').on('click', '.search-trigger', function(){$('.top-search').toggleClass('active'); $('#content').toggleClass('blur'); $('#masthead').toggleClass('search-active'); $('.top-search').find('form').fadeToggle(150).find('input').focus();}); $('body').on('click', '.search-close', function(){$('.top-search').toggleClass('active'); $('#content').toggleClass('blur'); $('.top-search').find('form').fadeToggle(150); $('#masthead').toggleClass('search-active');}); var header=$('body').not('.transparent-header').find('.navbar-sticky'); $('#masthead').parents('.section').css({'overflow': 'visible', 'position': 'relative', 'z-index': '1100'}); header.waypoint('sticky',{stuckClass: 'navbar-stuck'}); var menuContainer=$('#masthead.navbar-sticky'); if(menuContainer.length && menuContainer.hasClass('navbar-sticky')){var menuOffset=menuContainer.position().top; $('body').waypoint({offset: -( parseInt( oxyThemeData.navbarScrolledPoint ) + menuOffset ), handler: function(direction){menuContainer.toggleClass('navbar-scrolled'); var prefix='swatch-'; var classes=menuContainer[0].className.split(' ').filter(function(c){return c.lastIndexOf(prefix, 0) !==0;}); menuContainer[0].className=classes.join(' '); menuContainer.addClass(oxyThemeData.navbarScrolledSwatches[direction]); menuContainer.one('MSTransitionEnd webkitTransitionEnd oTransitionEnd transitionend', function(){if( !menuContainer.hasClass( 'refreshing' ) ){$.waypoints('refresh');}menuContainer.toggleClass('refreshing');});}});}$('body').waypoint({offset: -200, handler: function(direction){if(direction==='down'){$('.go-top').css('bottom', '12px').css('opacity', '1');}else{$('.go-top').css('bottom', '-44px').css('opacity', '0');}}}); function onScrollInit( items, trigger ){items.each( function(){var osElement=$(this), osAnimationClass=osElement.attr('data-os-animation'), osAnimationDelay=osElement.attr('data-os-animation-delay'); osElement.css({'-webkit-animation-delay': osAnimationDelay, '-moz-animation-delay': osAnimationDelay, 'animation-delay': osAnimationDelay}); var osTrigger=( trigger ) ? trigger : osElement; osTrigger.waypoint(function(){osElement.addClass('animated').addClass(osAnimationClass);},{triggerOnce: true, offset: '90%'});});}onScrollInit( $('.os-animation') ); onScrollInit( $( '.staff-os-animation' ), $('.staff-list-container') ); onScrollInit( $( '.recent-simple-os-animation' ), $('.recent-simple-os-container') ); $('.go-top').click(function(event){event.preventDefault(); $('html, body').animate({scrollTop: 0}, 300);}); $('[data-toggle="tooltip"]').tooltip(); $('.carousel').carousel({interval: 7000}); $('.accordion-body').on('hide', function (){$(this).parent('.accordion-group').find('.accordion-toggle').addClass('collapsed');}); $('.chart').each( function(){var $chart=$(this); $chart.waypoint(function(){var $waypoint=$(this); $waypoint.easyPieChart({barColor: $waypoint.attr('data-bar-color'), trackColor: $waypoint.attr('data-track-color'), lineWidth: $waypoint.attr('data-line-width'), scaleColor: false, animate: 1000, size: $waypoint.attr('data-size'), lineCap: 'square'});},{triggerOnce: true, offset: 'bottom-in-view'}); $chart.css('left', '50%'); $chart.css('margin-left', - $chart.attr('data-size') / 2 );}); var frames=document.getElementsByTagName( 'iframe' ); for( var i=0; i < frames.length; i++ ){if( frames[i].src.indexOf('?')===-1 ){frames[i].src +='?wmode=opaque';}else{frames[i].src +='&wmode=opaque';}}if( ( navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) ) && !navigator.userAgent.match(/(iPad|iPhone);.*CPU.*OS 7_\d/i) ){if(window.addEventListener){window.addEventListener('load', function(){setTimeout(function(){window.scrollTo(0, 1);}, 0);});}}$('[data-animation]').each(function(){var element=$(this); element.on('mouseenter', function(){if( element.attr('data-animation') !=='none' ){element.addClass('animated ' + element.attr('data-animation'));}}); element.on('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function(e){element.removeClass('animated ' + element.attr('data-animation'));});}); var $container=$('div.blog-masonry.isotope'); if($container.length > 0){$container.infinitescroll({navSelector : 'div.infinite-scroll', nextSelector : 'div.infinite-scroll a', itemSelector : '.masonry-item', loading:{finishedMsg: oxyThemeData.scrollFinishedMessage,}, prefill:true}, function( newElements ){$(newElements).each(function(index, element){var columns=3; var screenWidth=$(window).width(); var wideColumns=2; var padding=$container.attr( 'data-padding' ); if( screenWidth < 768 ){columns=$container.attr( 'data-col-xs' ); wideColumns=1;}else if( screenWidth < 992 ){columns=$container.attr( 'data-col-sm' ); wideColumns=1;}else if( screenWidth < 1200 ){columns=$container.attr( 'data-col-md' ); wideColumns=2 ;}else if( screenWidth > 1200 ){columns=$container.attr( 'data-col-lg' ); wideColumns=2 ;}var itemWidth=Math.floor( $container.width() / columns ); var item=$(this); if( item.hasClass( 'masonry-wide' ) ){item.css( 'width', itemWidth * wideColumns );}else{item.css( 'width', itemWidth );}item.find('.post-masonry-inner').css( 'padding', padding / 2 + 'px' );}); $container.isotope( 'appended', $( newElements ), function(){$container.isotope( 'reLayout', function(){$.waypoints('refresh');});});});}$('.magnific').magnificPopup({type:'image', removalDelay: 300, mainClass: 'mfp-fade'}); $('.magnific-youtube, .magnific-vimeo, .magnific-gmaps').magnificPopup({disableOn: 700, type: 'iframe', mainClass: 'mfp-fade', removalDelay: 300, preloader: false, fixedContentPos: false}); $('.magnific-gallery').each(function(index , value){var gallery=$(this); var galleryImages=$(this).data('links').split(','); var items=[]; for(var i=0;i<galleryImages.length; i++){items.push({src:galleryImages[i], title:''});}gallery.magnificPopup({mainClass: 'mfp-fade', items:items, gallery:{enabled:true, tPrev: $(this).data('prev-text'), tNext: $(this).data('next-text')}, type: 'image'});}); $('.product-gallery').magnificPopup({delegate: 'li figcaption a', type: 'image', mainClass: 'mfp-fade', gallery:{enabled:true, navigateByImgClick:true}}); $('[data-iconcolor]').each(function(){var element=$(this); var originalColor=$(element).css('background-color'); var originalTextColor=$(element).find('i').css('color'); element.on('mouseenter', function(){element.css('background-color' , element.attr('data-iconcolor')); element.find('i').css('color' , '#ffffff'); if (element.parents('.social-icons').hasClass('social-simple')){element.find('i').css('color' , element.attr('data-iconcolor'));}}); element.on('mouseleave', function(){element.css('background-color' ,originalColor); element.find('i').css('color' , originalTextColor); if (element.parents('.social-icons').hasClass('social-simple')){element.find('i').css('color' , originalTextColor);}});}); if (oxyThemeData.hoverMenu.hoverActive===true){$('.navbar .dropdown').hover(function(){$(this).find('.dropdown-menu').first().stop(true, true).delay(oxyThemeData.hoverMenu.hoverDelay).fadeIn(parseInt(oxyThemeData.hoverMenu.hoverFadeDelay));}, function(){$(this).find('.dropdown-menu').first().stop(true, true).delay(oxyThemeData.hoverMenu.hoverDelay).fadeOut(parseInt(oxyThemeData.hoverMenu.hoverFadeDelay));});}});